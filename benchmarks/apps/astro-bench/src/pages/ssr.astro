---
import Root from '../layouts/Root.astro';
import { getProducts } from '../data';

const data = await getProducts(1, 20);
---

<Root title="SSR - Astro Benchmark">
  <div>
    <h1>Server-Side Rendered Products</h1>
    <p>Showing {data.products.length} of {data.total} products</p>
    <ul>
      {data.products.map((product) => (
        <li>
          <h3>{product.name}</h3>
          <p>{product.description}</p>
          <span>${product.price.toFixed(2)}</span>
          <span> | Rating: {product.rating}/5</span>
          <span> | Stock: {product.stock}</span>
        </li>
      ))}
    </ul>
  </div>
</Root>
